* --------------------------- ;
* Modelo de médias de caselas ;
* --------------------------- ;
data Ex15_3_1;
input Trat Gordura@@;
cards;
 1  13.3	 1  12.6	 1  11.5	 1  15.4	 1  12.7	 1  15.7	 1  13.2	 1  15.0
 1  14.3	 1  16.5	 1  15.0	 1  13.7	 2  18.2	 2  11.3	 2  14.2	 2  15.9
 2  12.9	 2  15.1	 3  10.9	 3   3.3	 3  10.5	 3  11.6	 3  15.4	 3  14.4
 3  11.6	 3  14.4	 3   7.5	 3  10.8	 3  10.5	 3  14.5	 3  10.9	 3  13.0
 3  15.9	 3  12.8	 4  14.3	 4  15.3	 4  11.8	 4  11.0	 4  10.9	 4  10.5
 4  12.9	 4  12.5	 4  13.0	 4   7.6	 4  12.9	 5  13.6	 5  13.1	 5   4.1
 5  10.8	 6  12.9	 6  14.4	 7  11.6	 7  13.2	 7  12.6	 7  15.2	 7  14.7
 7  12.4	 8  13.8	 8  14.4	 8   4.9	 9  10.3	 9  10.3	 9  10.1	 9   6.9
 9  13.2	 9  11.0	 9  12.2	 9  13.3	 9  12.9	 9   9.9	10  12.8	10   8.4
10  10.6	10  13.9	10  10.0
 ;
proc print; run;
proc glm data=Ex15_3_1;;
 class trat;
 model Gordura = trat / noint ss3;
 contrast 'Sexo    ' trat  1 -1  1 -1  1 -1  1 -1  1 -1;
 contrast 'Linhagem' trat  3  3  3  3 -2 -2 -2 -2 -2 -2,
                     trat  1  1 -1 -1  0  0  0  0  0  0,
                     trat  0  0  0  0  1  1 -2 -2  1  1,
                     trat  0  0  0  0  1  1  0  0 -1 -1;
contrast 'Interação' trat  3 -3  3 -3 -2  2 -2  2 -2  2,
                     trat  1 -1 -1  1  0  0  0  0  0  0,
                     trat  0  0  0  0  1 -1 -2  2  1 -1,
                     trat  0  0  0  0  1 -1  0  0 -1  1;
run;


* ---------------------------------- ;
* Modelo fatorial superparametrizado ;
* ---------------------------------- ;
data Ex15_5;
input Linhagem Sexo Trat Gordura;
cards;
 1  1   1  13.3
 1  1   1  12.6
 1  1   1  11.5
 1  1   1  15.4
 1  1   1  12.7
 1  1   1  15.7
 1  1   1  13.2
 1  1   1  15.0
 1  1   1  14.3
 1  1   1  16.5
 1  1   1  15.0
 1  1   1  13.7
 1  2   2  18.2
 1  2   2  11.3
 1  2   2  14.2
 1  2   2  15.9
 1  2   2  12.9
 1  2   2  15.1
 2  1   3  10.9
 2  1   3   3.3
 2  1   3  10.5
 2  1   3  11.6
 2  1   3  15.4
 2  1   3  14.4
 2  1   3  11.6
 2  1   3  14.4
 2  1   3   7.5
 2  1   3  10.8
 2  1   3  10.5
 2  1   3  14.5
 2  1   3  10.9
 2  1   3  13.0
 2  1   3  15.9
 2  1   3  12.8
 2  2   4  14.3
 2  2   4  15.3
 2  2   4  11.8
 2  2   4  11.0
 2  2   4  10.9
 2  2   4  10.5
 2  2   4  12.9
 2  2   4  12.5
 2  2   4  13.0
 2  2   4   7.6
 2  2   4  12.9
 3  1   5  13.6
 3  1   5  13.1
 3  1   5   4.1
 3  1   5  10.8
 3  2   6  12.9
 3  2   6  14.4
 4  1   7  11.6
 4  1   7  13.2
 4  1   7  12.6
 4  1   7  15.2
 4  1   7  14.7
 4  1   7  12.4
 4  2   8  13.8
 4  2   8  14.4
 4  2   8   4.9
 5  1   9  10.3
 5  1   9  10.3
 5  1   9  10.1
 5  1   9   6.9
 5  1   9  13.2
 5  1   9  11.0
 5  1   9  12.2
 5  1   9  13.3
 5  1   9  12.9
 5  1   9   9.9
 5  2  10  12.8
 5  2  10   8.4
 5  2  10  10.6
 5  2  10  13.9
 5  2  10  10.0
 ;
proc glm;
 class Linhagem Sexo;
 model Gordura  = Sexo Linhagem Sexo*Linhagem / ss1 ss2 ss3 ss4;
 lsmeans Sexo*Linhagem;
run;
